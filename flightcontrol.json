{"$schema":"https://app.flightcontrol.dev/schema.json","environments":[{"id":"development","name":"Development","region":"us-east-1","source":{"branch":"main","pr":false,"trigger":"push"},"services":[{"id":"rails-app","name":"Rails App","buildType":"nixpacks","cpu":0.25,"memory":0.5,"containerInsights":false,"minInstances":1,"maxInstances":1,"versionHistoryCount":10,"basePath":".","installCommand":"bundle install && rails db:migrate","envVariables":{},"autoscaling":{"cpuThreshold":70,"memoryThreshold":70,"cooldownTimerSecs":300,"requestsPerTarget":500},"includeEnvVariablesInBuild":true,"type":"fargate","healthCheckPath":"/","enableCloudfrontSwr":false,"port":3000},{"id":"database","name":"Database","type":"rds","instanceSize":"db.t4g.micro","private":false,"storage":20,"maxStorage":100,"autoUpgradeMinorVersions":true,"applyChangesImmediately":false,"deletionProtection":false,"connectionStringEnvVarName":"DATABASE_URL","engine":"postgres","engineVersion":"15"},{"id":"worker","name":"Worker","buildType":"nixpacks","cpu":0.25,"memory":0.5,"containerInsights":false,"minInstances":1,"maxInstances":1,"versionHistoryCount":10,"basePath":"./server","envVariables":{},"autoscaling":{"cpuThreshold":70,"memoryThreshold":70,"cooldownTimerSecs":300},"includeEnvVariablesInBuild":true,"type":"fargate-worker"},{"id":"redis","name":"Redis","type":"elasticache","engine":"redis","clusterMode":false,"instanceSize":"cache.t3.micro","connectionStringEnvVarName":"REDIS_URL","applyChangesImmediately":true,"autoMinorVersionUpgrade":true,"port":6379,"encryptionAtRest":true,"engineVersion":"7.0","evictionPolicy":"volatile-lru","numberOfReplicas":1}]}]}